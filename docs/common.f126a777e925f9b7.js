"use strict";(self.webpackChunkConsultancyServicesUI=self.webpackChunkConsultancyServicesUI||[]).push([[592],{5284:(O,C,a)=>{a.d(C,{f:()=>u});var h=a(9808),o=a(5e3),d=a(8966),p=a(3075),m=a(7322),f=a(8326),y=a(7531);function x(l,_){if(1&l){const t=o.EpF();o.TgZ(0,"form",6,7),o.TgZ(2,"mat-form-field",8),o.TgZ(3,"mat-icon",9),o._uU(4,"location_on"),o.qZA(),o.TgZ(5,"input",10,11),o.NdJ("ngModelChange",function(i){return o.CHM(t),o.oxw().shippingAddress=i}),o.qZA(),o.qZA(),o.qZA(),o._UZ(7,"div",12)}if(2&l){const t=o.oxw();o.xp6(5),o.Q6J("ngModel",t.shippingAddress)}}function s(l,_){if(1&l){const t=o.EpF();o.TgZ(0,"form",13,7),o.TgZ(2,"mat-form-field",8),o.TgZ(3,"input",10,11),o.NdJ("ngModelChange",function(i){return o.CHM(t),o.oxw().shippingAddress=i}),o.qZA(),o.TgZ(5,"mat-icon",14),o._uU(6,"search"),o.qZA(),o.qZA(),o.qZA(),o._UZ(7,"div",15)}if(2&l){const t=o.oxw();o.xp6(3),o.Q6J("ngModel",t.shippingAddress)}}let u=(()=>{class l{constructor(t,n,i){this._closeDailogRef=t,this.document=n,this.renderer2=i,this.searchType="input",this.googleGeoLocationsSelected=new o.vpe,this.pointDragValue=new o.vpe,this.markers=[]}ngOnInit(){}ngAfterViewInit(){console.log(this.latitudeInEditMode),this.loadAutoComplete()}loadAutoComplete(){setTimeout(()=>{this.loadScript("https://maps.googleapis.com/maps/api/js?key=AIzaSyA5eGzbXsE6LQTUxa5b1HCJAN_vXil_-LI&libraries=places&v=weekly").then(()=>{this.initAutoCompleteInput(),console.log(this)})},100)}loadScript(t){return new Promise((n,i)=>{const e=this.renderer2.createElement("script");e.type="text/javascript",e.src=t,e.text="",e.async=!1,e.defer=!0,e.onload=n,e.onerror=i,this.renderer2.appendChild(this.document.head,e)})}initAutoCompleteInput(){console.log("initAutoCompleteInput");const t=document.getElementById("txtSearchPlaces"),n=new google.maps.places.Autocomplete(t);n.setFields(["address_components","geometry","icon","name"]),n.addListener("place_changed",()=>{this.place=n.getPlace(),this.place.geometry.location.lat(),this.place.geometry.location.lng(),"map"===this.searchType&&this.setMarkerPosition(this.place),this.googleGeoLocationsSelected.emit(this.place),console.log(this.place,"MAIN"),console.log(this.place.address_components.types,"selected place"),console.log(this.place.html_attributions,"selected HTML"),console.log(this.place.result,"selected Results"),console.log(this.place.geometry.location.lat(),"selected lat long"),console.log(this.place.geometry.location.lng(),"selected lat long"),this.place.geometry||alert("No details available for input:"+t.value)}),"map"===this.searchType&&!this.latitudeInEditMode&&!this.longitudeInEditMode&&this.initMapWithAutoComplete(),"map"===this.searchType&&this.latitudeInEditMode&&this.longitudeInEditMode&&this.initMapWithAutoComplete(this.latitudeInEditMode,this.longitudeInEditMode)}initAutocompleteWithMap(){const t=new google.maps.Map(document.getElementById("map"),{center:{lat:17.385,lng:78.4867},zoom:13,mapTypeId:"roadmap",fields:["address_components","geometry","icon","name"],mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT},scaleControl:!1,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER}}),n=document.getElementById("pac-input"),i=new google.maps.places.SearchBox(n);let e;t.controls[google.maps.ControlPosition.TOP].push(n),t.addListener("bounds_changed",()=>{i.setBounds(t.getBounds())}),i.addListener("places_changed",()=>{const g=i.getPlaces();if(this.place=g,0==g.length)return;e.forEach(r=>{r.setMap(null)}),e=[];const c=new google.maps.LatLngBounds;g.forEach(r=>{if(!r.geometry||!r.geometry.location)return void console.log("Returned place contains no geometry");new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25);const T=new google.maps.Marker({map:t,draggable:!0,title:r.name,position:r.geometry.location});T.addListener("dragend",M=>{console.log(M),console.log(M.latLng.lat()),console.log(M.latLng.lng()),this.dragpoint=M.latLng,console.log(this.dragpoint)}),e.push(T),this.pointDragValue.emit(this.dragpoint),r.geometry.viewport?c.union(r.geometry.viewport):c.extend(r.geometry.location)}),t.fitBounds(c),console.log(),this.googleGeoLocationsSelected.emit(this.place[0]),console.log(this.place[0].geometry.location.lat(),"selected lat long"),console.log(this.place[0].geometry.location.lng(),"selected lat long")})}initMapWithAutoComplete(t,n){const i={center:{lat:t||17.385,lng:n||78.4867},zoom:13,mapTypeId:"roadmap",fields:["address_components","geometry","icon","name"],mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT},scaleControl:!1,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER}},e=new google.maps.Map(document.getElementById("map"),i);this.map=e,t&&n&&this.setMarkerPositionInUpdateMode(t||17.385,n||78.4867)}setMarkerPosition(t){const n=new google.maps.LatLngBounds;if(t){if(!t.geometry||!t.geometry.location)return void console.log("Returned place contains no geometry");if(0==t.length)return;this.markers.forEach(e=>{e.setMap(null)}),this.markers=[];const i=new google.maps.Marker({map:this.map,draggable:!0,title:t.name,position:t.geometry.location});this.marker=i,i.addListener("dragend",e=>{this.dragpoint=e.latLng,console.log(this.dragpoint),this.pointDragValue.emit(this.dragpoint)}),this.markers.push(i),t.geometry.viewport?n.union(t.geometry.viewport):n.extend(t.geometry.location),this.map.fitBounds(n)}}setMarkerPositionInUpdateMode(t,n,i){const e=new google.maps.LatLngBounds;if(t&&n){this.markers.forEach(c=>{c.setMap(null)}),this.markers=[];const g=new google.maps.Marker({map:this.map,draggable:!0,position:{lat:t,lng:n}});this.marker=g,g.addListener("dragend",c=>{this.dragpoint=c.latLng,console.log(this.dragpoint),this.pointDragValue.emit(this.dragpoint)}),this.markers.push(g),e.extend({lat:t,lng:n}),this.map.fitBounds(e)}}closeDialog(t){console.log(t,"Any"),setTimeout(()=>{this._closeDailogRef.close(t)},100)}closeDialogref(){setTimeout(()=>{this._closeDailogRef.close()},100)}ngOnChanges(){}}return l.\u0275fac=function(t){return new(t||l)(o.Y36(d.so),o.Y36(h.K0),o.Y36(o.Qsj))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-geo-location-maps"]],inputs:{searchType:"searchType",latitudeInEditMode:["latitude","latitudeInEditMode"],longitudeInEditMode:["longitude","longitudeInEditMode"]},outputs:{googleGeoLocationsSelected:"googleGeoLocationsSelected",pointDragValue:"pointDragValue"},features:[o.TTD],decls:8,vars:1,consts:[["role","main",1,"container-fluid","p-0"],[1,"row"],[1,"col-12"],[3,"ngTemplateOutlet"],["input",""],["mapT",""],[1,"form-horizontal","p-0"],["SearchPlacesForm","ngForm"],["appearance","outline",1,"w-100","p-0","col-12"],["matPrefix","",1,"add-top-space"],["type","text","id","txtSearchPlaces","name","txtSearchPlaces","matInput","","placeholder","search here",3,"ngModel","ngModelChange"],["txtSearchPlaces","ngModel"],["id","map"],[1,"form-horizontal","p-0","pb-2"],["matSuffix",""],["id","map",2,"height","30vh"]],template:function(t,n){if(1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.GkF(3,3),o.YNc(4,x,8,1,"ng-template",null,4,o.W1O),o.YNc(6,s,8,1,"ng-template",null,5,o.W1O),o.qZA(),o.qZA(),o.qZA()),2&t){const i=o.MAs(5),e=o.MAs(7);o.xp6(3),o.Q6J("ngTemplateOutlet","map"===n.searchType?e:i)}},directives:[h.tP,p._Y,p.JL,p.F,m.KE,f.Hw,m.qo,y.Nt,p.Fj,p.JJ,p.On,m.R9],styles:[".container[_ngcontent-%COMP%]:after{background-image:none!important;height:0px}[_nghost-%COMP%]  .pac-container:after{content:none!important}#description[_ngcontent-%COMP%]{font-family:Roboto;font-size:15px;font-weight:300}#infowindow-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}#infowindow-content[_ngcontent-%COMP%]{display:none}#map[_ngcontent-%COMP%]   #infowindow-content[_ngcontent-%COMP%]{display:inline}.pac-card[_ngcontent-%COMP%]{margin:10px 10px 0 0;border-radius:2px 0 0 2px;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;box-shadow:0 2px 6px #0000004d;background-color:#fff;font-family:Roboto}#pac-container[_ngcontent-%COMP%]{padding-bottom:12px;margin-right:12px}.pac-controls[_ngcontent-%COMP%]{display:inline-block;padding:5px 11px}.pac-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-size:13px;font-weight:300}#pac-input[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto;font-size:15px;font-weight:300;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis;width:400px}#pac-input[_ngcontent-%COMP%]:focus{border-color:#4d90fe}#title[_ngcontent-%COMP%]{color:#fff;background-color:#4d90fe;font-size:25px;font-weight:500;padding:6px 12px}#target[_ngcontent-%COMP%]{width:345px}element.style[_ngcontent-%COMP%]{margin:10px;z-index:0;position:absolute;cursor:pointer;left:0px;top:20px}#pac-input[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto;font-size:16px;height:30PX;font-weight:700;margin-left:0;padding:0 11px 0 13px;text-overflow:ellipsis;position:relative;width:100%}"]}),l})()},6047:(O,C,a)=>{a.d(C,{g:()=>x});var h=a(9808),o=a(1083),d=a(5e3);const p=[];let m=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[o.Bz.forChild(p)],o.Bz]}),s})();var f=a(2930),y=a(3075);let x=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({imports:[[h.ez,m,y.u5,f.q],f.q]}),s})()}}]);